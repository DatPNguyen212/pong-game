let t,e,n;const o=document.querySelector("[data-player-score]"),i=document.querySelector("[data-computer-score]"),l=document.querySelector("[data-player-bar]"),c=document.querySelector("[data-computer-bar]"),r=document.querySelector("[data-ball]"),s=document.querySelector("body");let a=s.getBoundingClientRect();const u=document.querySelector("[data-player-win-container]"),d=document.querySelector("[data-computer-win-container]"),h=document.querySelector("[data-overlay]"),f=document.querySelectorAll("[data-popup-player-score]"),g=document.querySelectorAll("[data-popup-computer-score]"),p=document.querySelectorAll("[data-play-again-button]"),y=document.querySelectorAll("[data-infinite-button]"),m=document.querySelector("[data-infinite-mode-label]"),x=document.querySelector("#infinite-mode-input");let v=l.getBoundingClientRect(),S=c.getBoundingClientRect(),C=(v.width,v.x,v.height/2+v.y),b=v.x+v.width,q=(S.x,S.width,S.y+S.height/2);c.style.top=(S.y-S.height/2).toString()+"px";let I=r.getBoundingClientRect(),L=(I.width,I.x,I.height/2+I.y),w=3,E=15,B=6,R=.5,k=0,M=0,A=!1;const T=[],F=[];function Y(){w=3,B=6;let t=Math.floor(Math.random()*(a.height-I.height));r.style.left=(a.width/2-I.width/2).toString()+"px",r.style.top=t.toString()+"px",c.style.top=(a.height/2-S.height/2).toString()+"px"}function j(){N();let e=Math.floor(2*Math.random())+1;if(1===e){let e=setInterval(z,E);t="left",T.push(e)}else if(2===e){let e=setInterval(D,E);t="left",T.push(e)}}function z(){N(),r.style.left=(I.x-w).toString()+"px",r.style.top=(I.y-w).toString()+"px",U(),O()}function D(){N(),r.style.left=(I.x-w).toString()+"px",r.style.top=(I.y+w).toString()+"px",U(),O()}function G(){N(),r.style.left=(I.x+w).toString()+"px",r.style.top=(I.y-w).toString()+"px",U(),O()}function H(){N(),r.style.left=(I.x+w).toString()+"px",r.style.top=(I.y+w).toString()+"px",U(),O()}function J(){N(),r.style.left=(I.x+w).toString()+"px",U(),O()}function K(){N(),r.style.left=(I.x-w).toString()+"px",U(),O()}function N(){(I=r.getBoundingClientRect()).width,I.x,L=I.height/2+I.y}function O(){if(N(),a=s.getBoundingClientRect(),I.x<=b&&L>=v.y&&L<=v.bottom)t="right",$(),function(){if(Q(),L<C){let t=setInterval(G,E);T.push(t)}else if(L>C){let t=setInterval(H,E);T.push(t)}else if(L===C){let t=setInterval(J,E);T.push(t)}}();else if(I.y<=a.y){if("right"===t){Q();let t=setInterval(H,E);T.push(t)}else if("left"===t){Q();let t=setInterval(D,E);T.push(t)}}else if(I.bottom>=a.bottom){if("right"===t){Q();let t=setInterval(G,E);T.push(t)}else if("left"===t){Q();let t=setInterval(z,E);T.push(t)}}else I.right>=S.left&&L>=S.y&&L<=S.bottom?(t="left",$(),function(){if(Q(),L<q){let t=setInterval(z,E);T.push(t)}else if(L>q){let t=setInterval(D,E);T.push(t)}else if(L===q){let t=setInterval(K,E);T.push(t)}}()):I.left<=a.left?(M+=1,P(),Y()):I.right>=a.right&&(k+=1,P(),Y())}function P(){o.textContent=k.toString(),i.textContent=M.toString(),f.forEach(t=>{t.textContent=k.toString()}),g.forEach(t=>{t.textContent=M.toString()}),!1===A&&(console.log(k,M),5===k?(_(),u.classList.add("active"),h.classList.add("active"),x.disabled=!0):5===M&&(console.log("computer wins"),_(),d.classList.add("active"),h.classList.add("active"),x.disabled=!0))}function Q(){T.forEach(t=>{clearInterval(t)}),T.splice(0,T.length)}function U(){N(),Z(),L<q?(e=setTimeout(V,R),F.push(e)):L>q?(n=setTimeout(W,R),F.push(n)):X()}function V(){Z(),c.style.top=(S.y-B).toString()+"px"}function W(){Z(),c.style.top=(S.y+B).toString()+"px"}function X(){F.forEach(t=>{clearTimeout(t)}),F.splice(0,F.length)}function Z(){(S=c.getBoundingClientRect()).x,S.width,q=S.y+S.height/2}function $(){w+=.5,B<8&&(B+=.3)}function _(){Q(),X()}function tt(){_(),t=void 0,w=3,E=15,B=6,R=.5,e=void 0,n=void 0,k=0,M=0,A=!1,P(),te(),Y(),j()}function te(){x.removeAttribute("disabled"),A?(m.textContent="Infinite Mode",x.checked=!0):(m.textContent="First to 5pts",x.checked=!1)}p.forEach(t=>{t.addEventListener("click",t=>{u.classList.remove("active"),d.classList.remove("active"),h.classList.remove("active"),A=!1,tt()})}),y.forEach(t=>{t.addEventListener("click",t=>{u.classList.remove("active"),d.classList.remove("active"),h.classList.remove("active"),A=!0,te(),Y(),j()})}),x.addEventListener("change",t=>{t.target.checked?(A=!0,m.textContent="Infinite Mode"):!t.target.checked&&(A=!1,m.textContent="First to 5pts",(k>=5||M>=5)&&tt())}),s.addEventListener("mousemove",t=>{let e=t.pageY;l.style.top=e.toString()+"px",(v=l.getBoundingClientRect()).width,v.x,C=v.height/2+v.y,b=v.x+v.width}),Y(),j();
//# sourceMappingURL=index.ed741662.js.map
